Assignment 03: Web Scraping and Text Mining
================
Flemming Wu
2022-10-27

``` r
library(httr)
library(rvest)
library(stringr)
library(xml2)
```

### APIs

-   Using the NCBI API, look for papers that show up under the term
    “sars-cov-2 trial vaccine.” Look for the data in the pubmed
    database, and then retrieve the details of the paper as shown in
    lab 7. How many papers were you able to find?

-   Using the list of pubmed ids you retrieved, download each papers’
    details using the query parameter rettype = abstract. If you get
    more than 250 ids, just keep the first 250.

-   As we did in lab 7. Create a dataset containing the following:

    1.  Pubmed ID number,

    2.  Title of the paper,

    3.  Name of the journal where it was published,

    4.  Publication date, and

    5.  Abstract of the paper (if any).

``` r
# using rvest
rvest::read_html("https://pubmed.ncbi.nlm.nih.gov/?term=sars-cov-2+trial+vaccine") %>%
    html_node(xpath = "/html/body/main/div[9]/div[2]/div[2]/div[1]/div[1]") %>%
    as.character() %>%
    str_extract_all("([:digit:]{1,3},)+?[:digit:]{3}")
```

    ## [[1]]
    ## [1] "3,985"

``` r
# using xml2
website <- read_html("https://pubmed.ncbi.nlm.nih.gov/?term=sars-cov-2+trial+vaccine")

count <- xml_find_first(website, xpath = "/html/body/main/div[9]/div[2]/div[2]/div[1]/div[1]") %>%
    as.character() %>%
    str_extract("([:digit:]{1,3},)+?[:digit:]{3}")


paste0("I have found ", count, " papers that show up under the term: sars-cov-2 trial vaccine")
```

    ## [1] "I have found 3,985 papers that show up under the term: sars-cov-2 trial vaccine"

``` r
query_ids <- GET(url = "https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi",
    query = list(term = "sars-cov-2 trial vaccine", db = "pubmed",
        rettype = "abstract", retmax = 1000))

ids <- content(query_ids)

ids <- as.character(ids)

ids
```

    ## [1] "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE eSearchResult PUBLIC \"-//NLM//DTD esearch 20060628//EN\" \"https://eutils.ncbi.nlm.nih.gov/eutils/dtd/20060628/esearch.dtd\">\n<eSearchResult>\n  <Count>1790</Count>\n  <RetMax>1000</RetMax>\n  <RetStart>0</RetStart>\n  <IdList>\n    <Id>36287714</Id>\n    <Id>36278465</Id>\n    <Id>36276877</Id>\n    <Id>36273491</Id>\n    <Id>36272432</Id>\n    <Id>36272418</Id>\n    <Id>36271389</Id>\n    <Id>36269852</Id>\n    <Id>36264905</Id>\n    <Id>36264829</Id>\n    <Id>36239699</Id>\n    <Id>36229342</Id>\n    <Id>36228659</Id>\n    <Id>36228639</Id>\n    <Id>36226829</Id>\n    <Id>36223228</Id>\n    <Id>36222988</Id>\n    <Id>36220174</Id>\n    <Id>36217139</Id>\n    <Id>36216961</Id>\n    <Id>36215715</Id>\n    <Id>36211354</Id>\n    <Id>36210481</Id>\n    <Id>36210437</Id>\n    <Id>36209129</Id>\n    <Id>36207894</Id>\n    <Id>36203563</Id>\n    <Id>36202997</Id>\n    <Id>36196609</Id>\n    <Id>36195472</Id>\n    <Id>36194628</Id>\n    <Id>36191948</Id>\n    <Id>36189797</Id>\n    <Id>36188435</Id>\n    <Id>36184710</Id>\n    <Id>36180032</Id>\n    <Id>36168404</Id>\n    <Id>36164386</Id>\n    <Id>36154666</Id>\n    <Id>36153335</Id>\n    <Id>36150668</Id>\n    <Id>36148919</Id>\n    <Id>36145196</Id>\n    <Id>36137900</Id>\n    <Id>36127739</Id>\n    <Id>36124697</Id>\n    <Id>36123681</Id>\n    <Id>36123069</Id>\n    <Id>36120231</Id>\n    <Id>36120090</Id>\n    <Id>36117003</Id>\n    <Id>36115850</Id>\n    <Id>36113538</Id>\n    <Id>36112399</Id>\n    <Id>36109791</Id>\n    <Id>36109788</Id>\n    <Id>36106642</Id>\n    <Id>36106630</Id>\n    <Id>36105814</Id>\n    <Id>36105535</Id>\n    <Id>36104663</Id>\n    <Id>36103390</Id>\n    <Id>36097029</Id>\n    <Id>36092832</Id>\n    <Id>36090797</Id>\n    <Id>36090603</Id>\n    <Id>36088365</Id>\n    <Id>36081470</Id>\n    <Id>36075233</Id>\n    <Id>36070710</Id>\n    <Id>36064820</Id>\n    <Id>36063274</Id>\n    <Id>36057099</Id>\n    <Id>36055877</Id>\n    <Id>36049700</Id>\n    <Id>36048417</Id>\n    <Id>36041013</Id>\n    <Id>36032086</Id>\n    <Id>36031500</Id>\n    <Id>36029105</Id>\n    <Id>36027906</Id>\n    <Id>36018773</Id>\n    <Id>36016181</Id>\n    <Id>36006772</Id>\n    <Id>36002557</Id>\n    <Id>35998623</Id>\n    <Id>35996440</Id>\n    <Id>35990320</Id>\n    <Id>35987605</Id>\n    <Id>35986502</Id>\n    <Id>35986481</Id>\n    <Id>35986451</Id>\n    <Id>35982669</Id>\n    <Id>35982649</Id>\n    <Id>35977809</Id>\n    <Id>35977180</Id>\n    <Id>35970020</Id>\n    <Id>35967591</Id>\n    <Id>35963274</Id>\n    <Id>35963234</Id>\n    <Id>35953020</Id>\n    <Id>35952496</Id>\n    <Id>35951338</Id>\n    <Id>35946814</Id>\n    <Id>35943669</Id>\n    <Id>35935974</Id>\n    <Id>35935786</Id>\n    <Id>35933275</Id>\n    <Id>35931636</Id>\n    <Id>35921608</Id>\n    <Id>35920693</Id>\n    <Id>35914122</Id>\n    <Id>35906881</Id>\n    <Id>35902817</Id>\n    <Id>35902214</Id>\n    <Id>35902168</Id>\n    <Id>35901091</Id>\n    <Id>35898343</Id>\n    <Id>35894099</Id>\n    <Id>35891947</Id>\n    <Id>35891634</Id>\n    <Id>35891313</Id>\n    <Id>35891246</Id>\n    <Id>35891178</Id>\n    <Id>35884946</Id>\n    <Id>35879941</Id>\n    <Id>35873011</Id>\n    <Id>35866633</Id>\n    <Id>35865520</Id>\n    <Id>35864805</Id>\n    <Id>35862287</Id>\n    <Id>35860726</Id>\n    <Id>35858775</Id>\n    <Id>35858689</Id>\n    <Id>35858680</Id>\n    <Id>35852263</Id>\n    <Id>35846380</Id>\n    <Id>35845955</Id>\n    <Id>35845944</Id>\n    <Id>35845323</Id>\n    <Id>35844042</Id>\n    <Id>35841235</Id>\n    <Id>35835822</Id>\n    <Id>35821982</Id>\n    <Id>35821800</Id>\n    <Id>35817009</Id>\n    <Id>35816411</Id>\n    <Id>35812412</Id>\n    <Id>35809371</Id>\n    <Id>35803290</Id>\n    <Id>35799790</Id>\n    <Id>35799590</Id>\n    <Id>35798146</Id>\n    <Id>35798000</Id>\n    <Id>35795339</Id>\n    <Id>35792746</Id>\n    <Id>35790229</Id>\n    <Id>35787455</Id>\n    <Id>35786399</Id>\n    <Id>35785530</Id>\n    <Id>35781796</Id>\n    <Id>35780813</Id>\n    <Id>35779491</Id>\n    <Id>35777803</Id>\n    <Id>35775753</Id>\n    <Id>35773445</Id>\n    <Id>35772416</Id>\n    <Id>35771353</Id>\n    <Id>35770251</Id>\n    <Id>35768083</Id>\n    <Id>35765097</Id>\n    <Id>35764393</Id>\n    <Id>35760812</Id>\n    <Id>35758850</Id>\n    <Id>35757764</Id>\n    <Id>35753841</Id>\n    <Id>35750048</Id>\n    <Id>35749696</Id>\n    <Id>35746728</Id>\n    <Id>35746659</Id>\n    <Id>35746545</Id>\n    <Id>35746522</Id>\n    <Id>35738969</Id>\n    <Id>35738968</Id>\n    <Id>35734087</Id>\n    <Id>35734084</Id>\n    <Id>35733228</Id>\n    <Id>35732350</Id>\n    <Id>35728837</Id>\n    <Id>35728642</Id>\n    <Id>35725862</Id>\n    <Id>35723969</Id>\n    <Id>35720389</Id>\n    <Id>35720385</Id>\n    <Id>35720281</Id>\n    <Id>35718205</Id>\n    <Id>35717995</Id>\n    <Id>35711442</Id>\n    <Id>35710987</Id>\n    <Id>35710572</Id>\n    <Id>35709239</Id>\n    <Id>35708690</Id>\n    <Id>35699557</Id>\n    <Id>35699073</Id>\n    <Id>35698835</Id>\n    <Id>35698094</Id>\n    <Id>35693819</Id>\n    <Id>35691871</Id>\n    <Id>35691324</Id>\n    <Id>35691295</Id>\n    <Id>35690076</Id>\n    <Id>35688164</Id>\n    <Id>35686572</Id>\n    <Id>35679357</Id>\n    <Id>35677069</Id>\n    <Id>35675370</Id>\n    <Id>35675078</Id>\n    <Id>35667914</Id>\n    <Id>35667227</Id>\n    <Id>35666466</Id>\n    <Id>35665745</Id>\n    <Id>35660738</Id>\n    <Id>35659449</Id>\n    <Id>35658775</Id>\n    <Id>35653428</Id>\n    <Id>35649178</Id>\n    <Id>35645588</Id>\n    <Id>35644168</Id>\n    <Id>35639644</Id>\n    <Id>35634285</Id>\n    <Id>35632653</Id>\n    <Id>35632408</Id>\n    <Id>35624516</Id>\n    <Id>35620536</Id>\n    <Id>35617826</Id>\n    <Id>35617423</Id>\n    <Id>35617368</Id>\n    <Id>35614039</Id>\n    <Id>35613806</Id>\n    <Id>35611064</Id>\n    <Id>35610124</Id>\n    <Id>35606238</Id>\n    <Id>35606235</Id>\n    <Id>35605625</Id>\n    <Id>35603215</Id>\n    <Id>35602004</Id>\n    <Id>35599154</Id>\n    <Id>35589363</Id>\n    <Id>35585512</Id>\n    <Id>35582124</Id>\n    <Id>35582122</Id>\n    <Id>35579840</Id>\n    <Id>35577986</Id>\n    <Id>35577631</Id>\n    <Id>35577478</Id>\n    <Id>35577391</Id>\n    <Id>35574502</Id>\n    <Id>35572592</Id>\n    <Id>35561252</Id>\n    <Id>35550261</Id>\n    <Id>35549549</Id>\n    <Id>35547849</Id>\n    <Id>35544437</Id>\n    <Id>35544369</Id>\n    <Id>35544149</Id>\n    <Id>35544051</Id>\n    <Id>35543372</Id>\n    <Id>35536669</Id>\n    <Id>35535503</Id>\n    <Id>35528950</Id>\n    <Id>35524896</Id>\n    <Id>35523505</Id>\n    <Id>35519174</Id>\n    <Id>35511920</Id>\n    <Id>35511586</Id>\n    <Id>35508378</Id>\n    <Id>35507508</Id>\n    <Id>35507481</Id>\n    <Id>35506627</Id>\n    <Id>35504634</Id>\n    <Id>35502407</Id>\n    <Id>35502229</Id>\n    <Id>35501178</Id>\n    <Id>35489606</Id>\n    <Id>35489376</Id>\n    <Id>35487578</Id>\n    <Id>35486806</Id>\n    <Id>35482408</Id>\n    <Id>35477725</Id>\n    <Id>35477022</Id>\n    <Id>35475234</Id>\n    <Id>35468758</Id>\n    <Id>35463185</Id>\n    <Id>35457086</Id>\n    <Id>35452104</Id>\n    <Id>35449030</Id>\n    <Id>35447085</Id>\n    <Id>35443106</Id>\n    <Id>35441932</Id>\n    <Id>35441179</Id>\n    <Id>35441164</Id>\n    <Id>35440336</Id>\n    <Id>35436611</Id>\n    <Id>35436331</Id>\n    <Id>35434578</Id>\n    <Id>35429790</Id>\n    <Id>35429381</Id>\n    <Id>35428626</Id>\n    <Id>35421449</Id>\n    <Id>35418436</Id>\n    <Id>35413022</Id>\n    <Id>35405168</Id>\n    <Id>35400233</Id>\n    <Id>35400040</Id>\n    <Id>35399819</Id>\n    <Id>35396728</Id>\n    <Id>35396297</Id>\n    <Id>35392460</Id>\n    <Id>35389977</Id>\n    <Id>35385875</Id>\n    <Id>35384694</Id>\n    <Id>35381324</Id>\n    <Id>35381023</Id>\n    <Id>35379815</Id>\n    <Id>35373105</Id>\n    <Id>35372379</Id>\n    <Id>35369854</Id>\n    <Id>35367003</Id>\n    <Id>35364381</Id>\n    <Id>35361992</Id>\n    <Id>35361691</Id>\n    <Id>35360736</Id>\n    <Id>35358170</Id>\n    <Id>35353885</Id>\n    <Id>35345646</Id>\n    <Id>35341647</Id>\n    <Id>35338835</Id>\n    <Id>35335064</Id>\n    <Id>35334306</Id>\n    <Id>35331783</Id>\n    <Id>35330204</Id>\n    <Id>35326695</Id>\n    <Id>35323932</Id>\n    <Id>35321895</Id>\n    <Id>35321676</Id>\n    <Id>35321627</Id>\n    <Id>35321556</Id>\n    <Id>35320659</Id>\n    <Id>35316551</Id>\n    <Id>35316221</Id>\n    <Id>35314902</Id>\n    <Id>35308924</Id>\n    <Id>35308291</Id>\n    <Id>35306594</Id>\n    <Id>35305740</Id>\n    <Id>35303472</Id>\n    <Id>35298454</Id>\n    <Id>35297119</Id>\n    <Id>35291289</Id>\n    <Id>35291217</Id>\n    <Id>35290571</Id>\n    <Id>35289125</Id>\n    <Id>35287430</Id>\n    <Id>35284808</Id>\n    <Id>35283457</Id>\n    <Id>35277389</Id>\n    <Id>35275926</Id>\n    <Id>35273351</Id>\n    <Id>35265822</Id>\n    <Id>35264324</Id>\n    <Id>35264173</Id>\n    <Id>35263350</Id>\n    <Id>35261970</Id>\n    <Id>35255881</Id>\n    <Id>35252231</Id>\n    <Id>35248422</Id>\n    <Id>35248174</Id>\n    <Id>35247264</Id>\n    <Id>35241844</Id>\n    <Id>35241474</Id>\n    <Id>35238933</Id>\n    <Id>35238565</Id>\n    <Id>35236726</Id>\n    <Id>35236350</Id>\n    <Id>35235002</Id>\n    <Id>35234868</Id>\n    <Id>35233098</Id>\n    <Id>35232232</Id>\n    <Id>35229414</Id>\n    <Id>35229317</Id>\n    <Id>35226708</Id>\n    <Id>35224524</Id>\n    <Id>35223726</Id>\n    <Id>35220303</Id>\n    <Id>35216673</Id>\n    <Id>35215973</Id>\n    <Id>35214791</Id>\n    <Id>35214772</Id>\n    <Id>35214654</Id>\n    <Id>35210336</Id>\n    <Id>35210118</Id>\n    <Id>35203821</Id>\n    <Id>35202585</Id>\n    <Id>35201518</Id>\n    <Id>35193873</Id>\n    <Id>35193695</Id>\n    <Id>35192664</Id>\n    <Id>35192657</Id>\n    <Id>35192543</Id>\n    <Id>35189345</Id>\n    <Id>35183238</Id>\n    <Id>35177302</Id>\n    <Id>35176007</Id>\n    <Id>35173720</Id>\n    <Id>35169806</Id>\n    <Id>35169127</Id>\n    <Id>35169113</Id>\n    <Id>35168840</Id>\n    <Id>35168557</Id>\n    <Id>35165682</Id>\n    <Id>35164986</Id>\n    <Id>35157634</Id>\n    <Id>35157633</Id>\n    <Id>35157493</Id>\n    <Id>35157053</Id>\n    <Id>35156709</Id>\n    <Id>35156068</Id>\n    <Id>35154159</Id>\n    <Id>35151397</Id>\n    <Id>35150610</Id>\n    <Id>35149232</Id>\n    <Id>35147794</Id>\n    <Id>35145311</Id>\n    <Id>35144979</Id>\n    <Id>35143540</Id>\n    <Id>35142560</Id>\n    <Id>35140006</Id>\n    <Id>35139271</Id>\n    <Id>35139037</Id>\n    <Id>35137021</Id>\n    <Id>35136225</Id>\n    <Id>35136139</Id>\n    <Id>35135832</Id>\n    <Id>35135470</Id>\n    <Id>35134185</Id>\n    <Id>35132407</Id>\n    <Id>35131899</Id>\n    <Id>35131133</Id>\n    <Id>35130825</Id>\n    <Id>35130646</Id>\n    <Id>35129826</Id>\n    <Id>35128512</Id>\n    <Id>35126362</Id>\n    <Id>35125406</Id>\n    <Id>35123660</Id>\n    <Id>35123437</Id>\n    <Id>35122211</Id>\n    <Id>35121124</Id>\n    <Id>35118475</Id>\n    <Id>35115696</Id>\n    <Id>35115375</Id>\n    <Id>35115195</Id>\n    <Id>35114690</Id>\n    <Id>35114141</Id>\n    <Id>35111162</Id>\n    <Id>35108277</Id>\n    <Id>35105642</Id>\n    <Id>35102140</Id>\n    <Id>35100611</Id>\n    <Id>35099523</Id>\n    <Id>35098177</Id>\n    <Id>35093205</Id>\n    <Id>35092996</Id>\n    <Id>35091231</Id>\n    <Id>35090638</Id>\n    <Id>35089936</Id>\n    <Id>35088699</Id>\n    <Id>35087233</Id>\n    <Id>35085851</Id>\n    <Id>35085224</Id>\n    <Id>35084386</Id>\n    <Id>35083875</Id>\n    <Id>35082134</Id>\n    <Id>35081293</Id>\n    <Id>35079784</Id>\n    <Id>35079621</Id>\n    <Id>35075450</Id>\n    <Id>35075281</Id>\n    <Id>35074136</Id>\n    <Id>35073677</Id>\n    <Id>35073571</Id>\n    <Id>35072131</Id>\n    <Id>35065705</Id>\n    <Id>35062756</Id>\n    <Id>35062747</Id>\n    <Id>35061975</Id>\n    <Id>35061702</Id>\n    <Id>35061630</Id>\n    <Id>35057745</Id>\n    <Id>35051686</Id>\n    <Id>35048262</Id>\n    <Id>35045694</Id>\n    <Id>35045362</Id>\n    <Id>35045226</Id>\n    <Id>35044832</Id>\n    <Id>35044205</Id>\n    <Id>35043118</Id>\n    <Id>35043093</Id>\n    <Id>35043040</Id>\n    <Id>35042911</Id>\n    <Id>35042847</Id>\n    <Id>35042081</Id>\n    <Id>35042059</Id>\n    <Id>35040422</Id>\n    <Id>35035883</Id>\n    <Id>35032961</Id>\n    <Id>35029629</Id>\n    <Id>35027397</Id>\n    <Id>35025926</Id>\n    <Id>35023673</Id>\n    <Id>35020754</Id>\n    <Id>35017530</Id>\n    <Id>35016195</Id>\n    <Id>35011103</Id>\n    <Id>35006245</Id>\n    <Id>35003137</Id>\n    <Id>34991982</Id>\n    <Id>34990810</Id>\n    <Id>34990408</Id>\n    <Id>34990385</Id>\n    <Id>34988889</Id>\n    <Id>34986251</Id>\n    <Id>34981068</Id>\n    <Id>34977553</Id>\n    <Id>34974674</Id>\n    <Id>34974509</Id>\n    <Id>34970525</Id>\n    <Id>34964270</Id>\n    <Id>34963880</Id>\n    <Id>34960212</Id>\n    <Id>34960122</Id>\n    <Id>34959492</Id>\n    <Id>34958382</Id>\n    <Id>34957385</Id>\n    <Id>34954967</Id>\n    <Id>34954658</Id>\n    <Id>34954325</Id>\n    <Id>34953526</Id>\n    <Id>34953518</Id>\n    <Id>34952914</Id>\n    <Id>34950880</Id>\n    <Id>34950155</Id>\n    <Id>34949742</Id>\n    <Id>34949569</Id>\n    <Id>34948858</Id>\n    <Id>34942438</Id>\n    <Id>34942066</Id>\n    <Id>34941114</Id>\n    <Id>34938983</Id>\n    <Id>34937771</Id>\n    <Id>34937492</Id>\n    <Id>34935913</Id>\n    <Id>34933684</Id>\n    <Id>34931371</Id>\n    <Id>34930152</Id>\n    <Id>34929493</Id>\n    <Id>34928700</Id>\n    <Id>34928302</Id>\n    <Id>34928249</Id>\n    <Id>34926119</Id>\n    <Id>34922639</Id>\n    <Id>34918097</Id>\n    <Id>34916326</Id>\n    <Id>34913428</Id>\n    <Id>34910859</Id>\n    <Id>34907214</Id>\n    <Id>34902760</Id>\n    <Id>34901997</Id>\n    <Id>34896598</Id>\n    <Id>34894235</Id>\n    <Id>34893824</Id>\n    <Id>34890537</Id>\n    <Id>34889981</Id>\n    <Id>34888662</Id>\n    <Id>34887867</Id>\n    <Id>34886784</Id>\n    <Id>34883053</Id>\n    <Id>34882589</Id>\n    <Id>34882029</Id>\n    <Id>34872162</Id>\n    <Id>34871308</Id>\n    <Id>34870133</Id>\n    <Id>34868084</Id>\n    <Id>34867318</Id>\n    <Id>34864949</Id>\n    <Id>34863618</Id>\n    <Id>34863358</Id>\n    <Id>34863332</Id>\n    <Id>34863144</Id>\n    <Id>34861491</Id>\n    <Id>34861036</Id>\n    <Id>34858404</Id>\n    <Id>34856768</Id>\n    <Id>34856574</Id>\n    <Id>34854818</Id>\n    <Id>34854328</Id>\n    <Id>34849748</Id>\n    <Id>34843713</Id>\n    <Id>34838594</Id>\n    <Id>34838186</Id>\n    <Id>34838110</Id>\n    <Id>34835202</Id>\n    <Id>34835197</Id>\n    <Id>34835151</Id>\n    <Id>34831172</Id>\n    <Id>34830983</Id>\n    <Id>34830872</Id>\n    <Id>34826383</Id>\n    <Id>34826381</Id>\n    <Id>34825050</Id>\n    <Id>34824035</Id>\n    <Id>34823128</Id>\n    <Id>34821551</Id>\n    <Id>34820854</Id>\n    <Id>34815503</Id>\n    <Id>34815291</Id>\n    <Id>34814556</Id>\n    <Id>34814158</Id>\n    <Id>34812653</Id>\n    <Id>34810193</Id>\n    <Id>34810163</Id>\n    <Id>34809772</Id>\n    <Id>34807716</Id>\n    <Id>34806342</Id>\n    <Id>34805188</Id>\n    <Id>34804068</Id>\n    <Id>34802469</Id>\n    <Id>34800996</Id>\n    <Id>34800364</Id>\n    <Id>34799365</Id>\n    <Id>34794169</Id>\n    <Id>34793741</Id>\n    <Id>34793476</Id>\n    <Id>34786824</Id>\n    <Id>34786358</Id>\n    <Id>34781803</Id>\n    <Id>34778995</Id>\n    <Id>34778853</Id>\n    <Id>34776174</Id>\n    <Id>34775604</Id>\n    <Id>34774792</Id>\n    <Id>34774197</Id>\n    <Id>34774196</Id>\n    <Id>34774086</Id>\n    <Id>34774069</Id>\n    <Id>34767759</Id>\n    <Id>34762250</Id>\n    <Id>34758638</Id>\n    <Id>34756613</Id>\n    <Id>34756169</Id>\n    <Id>34755649</Id>\n    <Id>34755268</Id>\n    <Id>34752019</Id>\n    <Id>34748991</Id>\n    <Id>34748627</Id>\n    <Id>34746910</Id>\n    <Id>34746428</Id>\n    <Id>34742301</Id>\n    <Id>34740936</Id>\n    <Id>34739865</Id>\n    <Id>34739520</Id>\n    <Id>34739037</Id>\n    <Id>34735799</Id>\n    <Id>34735795</Id>\n    <Id>34735426</Id>\n    <Id>34735018</Id>\n    <Id>34732862</Id>\n    <Id>34729549</Id>\n    <Id>34726743</Id>\n    <Id>34726479</Id>\n    <Id>34724407</Id>\n    <Id>34715931</Id>\n    <Id>34713912</Id>\n    <Id>34711598</Id>\n    <Id>34707602</Id>\n    <Id>34704204</Id>\n    <Id>34703690</Id>\n    <Id>34702753</Id>\n    <Id>34698827</Id>\n    <Id>34698501</Id>\n    <Id>34697214</Id>\n    <Id>34697213</Id>\n    <Id>34696316</Id>\n    <Id>34696233</Id>\n    <Id>34696198</Id>\n    <Id>34691078</Id>\n    <Id>34691071</Id>\n    <Id>34690266</Id>\n    <Id>34689821</Id>\n    <Id>34689348</Id>\n    <Id>34689329</Id>\n    <Id>34688948</Id>\n    <Id>34688944</Id>\n    <Id>34688353</Id>\n    <Id>34687845</Id>\n    <Id>34674742</Id>\n    <Id>34674297</Id>\n    <Id>34672951</Id>\n    <Id>34671773</Id>\n    <Id>34671153</Id>\n    <Id>34670021</Id>\n    <Id>34667427</Id>\n    <Id>34666989</Id>\n    <Id>34665829</Id>\n    <Id>34664616</Id>\n    <Id>34662390</Id>\n    <Id>34662291</Id>\n    <Id>34659237</Id>\n    <Id>34656181</Id>\n    <Id>34655522</Id>\n    <Id>34654579</Id>\n    <Id>34649298</Id>\n    <Id>34648369</Id>\n    <Id>34642699</Id>\n    <Id>34642255</Id>\n    <Id>34635537</Id>\n    <Id>34635140</Id>\n    <Id>34633625</Id>\n    <Id>34633259</Id>\n    <Id>34632800</Id>\n    <Id>34628108</Id>\n    <Id>34625925</Id>\n    <Id>34624681</Id>\n    <Id>34624095</Id>\n    <Id>34620531</Id>\n    <Id>34620207</Id>\n    <Id>34615860</Id>\n    <Id>34607353</Id>\n    <Id>34601675</Id>\n    <Id>34601658</Id>\n    <Id>34599760</Id>\n    <Id>34597941</Id>\n    <Id>34597298</Id>\n    <Id>34594036</Id>\n    <Id>34591653</Id>\n    <Id>34591596</Id>\n    <Id>34588689</Id>\n    <Id>34588184</Id>\n    <Id>34587382</Id>\n    <Id>34585882</Id>\n    <Id>34582072</Id>\n    <Id>34580673</Id>\n    <Id>34580150</Id>\n    <Id>34579229</Id>\n    <Id>34578426</Id>\n    <Id>34578287</Id>\n    <Id>34576859</Id>\n    <Id>34565332</Id>\n    <Id>34562773</Id>\n    <Id>34561414</Id>\n    <Id>34558459</Id>\n    <Id>34557558</Id>\n    <Id>34555502</Id>\n    <Id>34555007</Id>\n    <Id>34555004</Id>\n    <Id>34551225</Id>\n    <Id>34551104</Id>\n    <Id>34549975</Id>\n    <Id>34547465</Id>\n    <Id>34545372</Id>\n    <Id>34545367</Id>\n    <Id>34545184</Id>\n    <Id>34545040</Id>\n    <Id>34541571</Id>\n    <Id>34539248</Id>\n    <Id>34537835</Id>\n    <Id>34536349</Id>\n    <Id>34535094</Id>\n    <Id>34534516</Id>\n    <Id>34529762</Id>\n    <Id>34526698</Id>\n    <Id>34526310</Id>\n    <Id>34526104</Id>\n    <Id>34526086</Id>\n    <Id>34525277</Id>\n    <Id>34525276</Id>\n    <Id>34522017</Id>\n    <Id>34521677</Id>\n    <Id>34519540</Id>\n    <Id>34519154</Id>\n    <Id>34516531</Id>\n    <Id>34515857</Id>\n    <Id>34508673</Id>\n    <Id>34508342</Id>\n    <Id>34500046</Id>\n    <Id>34499628</Id>\n    <Id>34496115</Id>\n    <Id>34494032</Id>\n    <Id>34494017</Id>\n    <Id>34493842</Id>\n    <Id>34490627</Id>\n    <Id>34490414</Id>\n    <Id>34488843</Id>\n    <Id>34480861</Id>\n    <Id>34480858</Id>\n    <Id>34480857</Id>\n    <Id>34480575</Id>\n    <Id>34480056</Id>\n    <Id>34479746</Id>\n    <Id>34475443</Id>\n    <Id>34472778</Id>\n    <Id>34464194</Id>\n    <Id>34462794</Id>\n    <Id>34456331</Id>\n    <Id>34455440</Id>\n    <Id>34455307</Id>\n    <Id>34454678</Id>\n    <Id>34454652</Id>\n    <Id>34452774</Id>\n    <Id>34451985</Id>\n    <Id>34451950</Id>\n    <Id>34451494</Id>\n    <Id>34449681</Id>\n    <Id>34447374</Id>\n    <Id>34446699</Id>\n    <Id>34446634</Id>\n    <Id>34445700</Id>\n    <Id>34445670</Id>\n    <Id>34444549</Id>\n    <Id>34441048</Id>\n    <Id>34438245</Id>\n    <Id>34437985</Id>\n    <Id>34433919</Id>\n    <Id>34433754</Id>\n    <Id>34417165</Id>\n    <Id>34416193</Id>\n    <Id>34414930</Id>\n    <Id>34414368</Id>\n    <Id>34413782</Id>\n    <Id>34413210</Id>\n    <Id>34411531</Id>\n    <Id>34405364</Id>\n    <Id>34403292</Id>\n    <Id>34401888</Id>\n    <Id>34400116</Id>\n    <Id>34398270</Id>\n    <Id>34396154</Id>\n    <Id>34393789</Id>\n    <Id>34388532</Id>\n    <Id>34388395</Id>\n    <Id>34379917</Id>\n    <Id>34379915</Id>\n    <Id>34379740</Id>\n    <Id>34378087</Id>\n    <Id>34375655</Id>\n    <Id>34374951</Id>\n    <Id>34373623</Id>\n    <Id>34373443</Id>\n    <Id>34370971</Id>\n    <Id>34365779</Id>\n    <Id>34365034</Id>\n    <Id>34364311</Id>\n    <Id>34362855</Id>\n    <Id>34362060</Id>\n    <Id>34359986</Id>\n    <Id>34358163</Id>\n    <Id>34358090</Id>\n    <Id>34355278</Id>\n    <Id>34353257</Id>\n    <Id>34349145</Id>\n    <Id>34348019</Id>\n    <Id>34347950</Id>\n    <Id>34344823</Id>\n    <Id>34343152</Id>\n    <Id>34341489</Id>\n    <Id>34336136</Id>\n    <Id>34335627</Id>\n    <Id>34331051</Id>\n    <Id>34331019</Id>\n    <Id>34330945</Id>\n    <Id>34330895</Id>\n    <Id>34325728</Id>\n    <Id>34324836</Id>\n    <Id>34323685</Id>\n    <Id>34316063</Id>\n    <Id>34316051</Id>\n    <Id>34313516</Id>\n    <Id>34310400</Id>\n    <Id>34308319</Id>\n    <Id>34303849</Id>\n    <Id>34297792</Id>\n    <Id>34290390</Id>\n    <Id>34289273</Id>\n    <Id>34285402</Id>\n    <Id>34280070</Id>\n    <Id>34277027</Id>\n    <Id>34273397</Id>\n    <Id>34273260</Id>\n    <Id>34272224</Id>\n    <Id>34271109</Id>\n    <Id>34270458</Id>\n    <Id>34270449</Id>\n    <Id>34267764</Id>\n    <Id>34267349</Id>\n    <Id>34267185</Id>\n    <Id>34260849</Id>\n    <Id>34260716</Id>\n    <Id>34260149</Id>\n    <Id>34258603</Id>\n    <Id>34254894</Id>\n    <Id>34254358</Id>\n    <Id>34251417</Id>\n    <Id>34250456</Id>\n    <Id>34249853</Id>\n    <Id>34249101</Id>\n    <Id>34246358</Id>\n    <Id>34244768</Id>\n    <Id>34244681</Id>\n    <Id>34244387</Id>\n    <Id>34243845</Id>\n    <Id>34242356</Id>\n    <Id>34241782</Id>\n    <Id>34238338</Id>\n    <Id>34237262</Id>\n    <Id>34236264</Id>\n    <Id>34234059</Id>\n    <Id>34230477</Id>\n    <Id>34225791</Id>\n    <Id>34225463</Id>\n    <Id>34224667</Id>\n    <Id>34223401</Id>\n    <Id>34222848</Id>\n    <Id>34213848</Id>\n    <Id>34212944</Id>\n    <Id>34212511</Id>\n    <Id>34209711</Id>\n    <Id>34206727</Id>\n    <Id>34202573</Id>\n    <Id>34202429</Id>\n    <Id>34200720</Id>\n    <Id>34197764</Id>\n    <Id>34197281</Id>\n    <Id>34192426</Id>\n    <Id>34190575</Id>\n    <Id>34189538</Id>\n    <Id>34181880</Id>\n    <Id>34180347</Id>\n    <Id>34180072</Id>\n    <Id>34179072</Id>\n    <Id>34178577</Id>\n    <Id>34174875</Id>\n    <Id>34174097</Id>\n    <Id>34171559</Id>\n    <Id>34170788</Id>\n    <Id>34166399</Id>\n    <Id>34162739</Id>\n    <Id>34162141</Id>\n    <Id>34159343</Id>\n    <Id>34158283</Id>\n    <Id>34158099</Id>\n    <Id>34136133</Id>\n    <Id>34154428</Id>\n    <Id>34153264</Id>\n    <Id>34153099</Id>\n    <Id>34150443</Id>\n    <Id>34146892</Id>\n    <Id>34145414</Id>\n    <Id>34145413</Id>\n    <Id>34143581</Id>\n    <Id>34132395</Id>\n    <Id>34130883</Id>\n    <Id>34124693</Id>\n    <Id>34119845</Id>\n    <Id>34119350</Id>\n    <Id>34118838</Id>\n    <Id>34117084</Id>\n    <Id>34116392</Id>\n    <Id>34112671</Id>\n    <Id>34112143</Id>\n    <Id>34108186</Id>\n    <Id>34107529</Id>\n    <Id>34105617</Id>\n    <Id>34104816</Id>\n    <Id>34101717</Id>\n    <Id>34100300</Id>\n    <Id>34100150</Id>\n    <Id>34099541</Id>\n    <Id>34097570</Id>\n    <Id>34097044</Id>\n    <Id>34093548</Id>\n    <Id>34089576</Id>\n    <Id>34088761</Id>\n    <Id>34086877</Id>\n    <Id>34086762</Id>\n    <Id>34085278</Id>\n    <Id>34084669</Id>\n    <Id>34081073</Id>\n    <Id>34080997</Id>\n    <Id>34080991</Id>\n    <Id>34080537</Id>\n  </IdList>\n  <TranslationSet>\n    <Translation>\n      <From>sars-cov-2</From>\n      <To>\"sars-cov-2\"[MeSH Terms] OR \"sars-cov-2\"[All Fields] OR \"sars cov 2\"[All Fields]</To>\n    </Translation>\n    <Translation>\n      <From>trial</From>\n      <To>\"clinical trials as topic\"[MeSH Terms] OR (\"clinical\"[All Fields] AND \"trials\"[All Fields] AND \"topic\"[All Fields]) OR \"clinical trials as topic\"[All Fields] OR \"trial\"[All Fields]</To>\n    </Translation>\n    <Translation>\n      <From>vaccine</From>\n      <To>\"vaccines\"[MeSH Terms] OR \"vaccines\"[All Fields] OR \"vaccine\"[All Fields]</To>\n    </Translation>\n  </TranslationSet>\n  <TranslationStack>\n    <TermSet>\n      <Term>\"sars-cov-2\"[MeSH Terms]</Term>\n      <Field>MeSH Terms</Field>\n      <Count>139055</Count>\n      <Explode>Y</Explode>\n    </TermSet>\n    <TermSet>\n      <Term>\"sars-cov-2\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>180982</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <OP>OR</OP>\n    <TermSet>\n      <Term>\"sars cov 2\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>180982</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <OP>OR</OP>\n    <OP>GROUP</OP>\n    <TermSet>\n      <Term>\"clinical trials as topic\"[MeSH Terms]</Term>\n      <Field>MeSH Terms</Field>\n      <Count>377678</Count>\n      <Explode>Y</Explode>\n    </TermSet>\n    <TermSet>\n      <Term>\"clinical\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>5743595</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <TermSet>\n      <Term>\"trials\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>921302</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <OP>AND</OP>\n    <TermSet>\n      <Term>\"topic\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>1264714</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <OP>AND</OP>\n    <OP>GROUP</OP>\n    <OP>OR</OP>\n    <TermSet>\n      <Term>\"clinical trials as topic\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>207000</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <OP>OR</OP>\n    <TermSet>\n      <Term>\"trial\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>1366734</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <OP>OR</OP>\n    <OP>GROUP</OP>\n    <OP>AND</OP>\n    <TermSet>\n      <Term>\"vaccines\"[MeSH Terms]</Term>\n      <Field>MeSH Terms</Field>\n      <Count>266792</Count>\n      <Explode>Y</Explode>\n    </TermSet>\n    <TermSet>\n      <Term>\"vaccines\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>281437</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <OP>OR</OP>\n    <TermSet>\n      <Term>\"vaccine\"[All Fields]</Term>\n      <Field>All Fields</Field>\n      <Count>298572</Count>\n      <Explode>N</Explode>\n    </TermSet>\n    <OP>OR</OP>\n    <OP>GROUP</OP>\n    <OP>AND</OP>\n    <OP>GROUP</OP>\n  </TranslationStack>\n  <QueryTranslation>(\"sars-cov-2\"[MeSH Terms] OR \"sars-cov-2\"[All Fields] OR \"sars cov 2\"[All Fields]) AND (\"clinical trials as topic\"[MeSH Terms] OR (\"clinical\"[All Fields] AND \"trials\"[All Fields] AND \"topic\"[All Fields]) OR \"clinical trials as topic\"[All Fields] OR \"trial\"[All Fields]) AND (\"vaccines\"[MeSH Terms] OR \"vaccines\"[All Fields] OR \"vaccine\"[All Fields])</QueryTranslation>\n</eSearchResult>\n"

### Text Mining

A new dataset has been added to the data science data repository
(<https://github.com/USCbiostats/data-science-data/tree/master/03_pubmed>)\[<https://github.com/USCbiostats/data-science-data/tree/master/03_pubmed>\].
The dataset contains 3241 abstracts from articles across 5 search terms.
Your job is to analyse these abstracts to find interesting insights.

1.  Tokenize the abstracts and count the number of each token. Do you
    see anything interesting? Does removing stop words change what
    tokens appear as the most frequent? What are the 5 most common
    tokens for each search term after removing stopwords?

2.  Tokenize the abstracts into bigrams. Find the 10 most common bigram
    and visualize them with ggplot2. Calculate the TF-IDF value for each
    word-search term combination. (here you want the search term to be
    the “document”)

3.  What are the 5 tokens from each search term with the highest TF-IDF
    value? How are the results different from the answers you got in
    question 1?
